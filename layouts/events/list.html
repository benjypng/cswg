{{ define "main" }}
<article class="post-single">
    <header class="post-header">
        <h1 class="post-title">{{ .Title }}</h1>
        <div class="post-description">{{ .Description }}</div>
    </header>
    
    {{ .Content }}

    <div class="events-list">
        {{ range .Pages.ByDate.Reverse }}
        <div class="event-card">
            <h3><a href="{{ .RelPermalink }}">{{ .Title }}</a></h3>
            <div class="event-meta">
                <span class="event-date">{{ .Params.eventDate }}</span>

                {{ if .Params.time }}
                <span class="event-time">{{ .Params.time }}</span>
                {{ end }}

                {{ if .Params.venue }}
                <span class="event-venue">{{ .Params.venue }}</span>
                {{ end }}
            </div>
            <p>{{ .Description }}</p>
            {{ if .Params.registration }}
            <div class="registration-button">
                <a href="{{ .Params.registrationUrl }}" target="_blank">Register Now</a>
            </div>
            {{ end }}
        </div>
        {{ end }}
    </div>
</article>
{{ end }}
